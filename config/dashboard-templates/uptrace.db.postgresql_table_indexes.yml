schema: v2
name: 'DB: PostgreSQL indexes'

table:
  metrics:
    - postgresql.index.scans as $index_scans
    - postgresql.index.size as $index_size
  query:
    - group by host.name
    - group by postgresql.database.name
    - group by postgresql.table.name
    - group by postgresql.index.name
    - $index_size
    - per_min($index_scans)

grid_rows:
  - title: General
    items:
      - title: Number of index scans
        metrics:
          - postgresql.index.scans as $index_scans
        query:
          - per_min($index_scans)

      - title: Index size
        metrics:
          - postgresql.index.size as $index_size
        query:
          - $index_size
